<div class="page">
  <div class="page-header">
    <h2>Neues Item erstellen</h2>
    <a routerLink="/items" class="link-back">← Zurück zur Liste</a>
  </div>

  <div class="form-card">
    <form (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="field">
          <label for="title">Titel *</label>
          <input id="title" [(ngModel)]="title" name="title" required />
        </div>

        <div class="field">
          <label for="type">Typ</label>
          <select id="type" [(ngModel)]="type" name="type">
            <option value="lost">Verloren</option>
            <option value="found">Gefunden</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label for="description">Beschreibung</label>
        <textarea
          id="description"
          [(ngModel)]="description"
          name="description"
          rows="3">
        </textarea>
      </div>

      <div class="row">
        <div class="field">
          <label for="location">Ort *</label>
          <input id="location" [(ngModel)]="location" name="location" required />
        </div>
        <div class="field">
          <label for="date">Datum *</label>
          <input id="date" [(ngModel)]="date" name="date" type="date" required />
        </div>
      </div>

      <div class="field">
        <label for="category">Kategorie *</label>
        <select
          id="category"
          [(ngModel)]="categoryId"
          name="categoryId"
          required>
          <option [ngValue]="undefined" disabled>Bitte wählen</option>
          <option *ngFor="let c of categories" [ngValue]="c.id">
            {{ c.name }}
          </option>
        </select>
      </div>

      <p class="error" *ngIf="error">{{ error }}</p>

      <div class="actions">
        <button type="submit" [disabled]="loading">
          {{ loading ? 'Speichere...' : 'Speichern' }}
        </button>
      </div>
    </form>
  </div>
</div>
